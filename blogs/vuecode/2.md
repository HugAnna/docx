---
title: 2：初始化vue
date: 2024-02-20
tags:
 - vue核心源码
categories:
 - vue核心源码
sidebar: 'auto'
---

### 1.导出`vue`构造函数


``` js
import {initMixin} from './init';

function Vue(options) {
    this._init(options);
}
initMixin(Vue); // 给原型上新增_init方法
export default Vue;
```

### 2.`init`方法中初始化`vue`状态

``` js
import {initState} from './state';
export function initMixin(Vue){
    Vue.prototype._init = function (options) {
        const vm  = this;
        vm.$options = options
        // 初始化状态
        initState(vm)
    }
}
```
### 3.根据不同属性进行初始化操作

``` js
export function initState(vm){
    const opts = vm.$options;
    if(opts.data){
        // 初始化data
        initData(vm);
    }
    if(opts.watch){
        initWatch(vm);
    }
    if(opts.props){
        initProps(vm);
    }
    if(opts.computed){
        initComputed(vm);
    }
    if(opts.methods){
        initMethod(vm);
    }


    
}
function initProps(){}
function initMethod(){}
function initData(){}
function initComputed(){}
function initWatch(){}
```

### 4.index.html导入vue.js

![image.png](/vuecode/indexinit.png)


