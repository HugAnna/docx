---
title: 函数柯里化
date: 2024-03-05
categories:
 - 杂项
tags:
 - 杂项
sidebar: 'auto'
---
## 柯里化概念
在计算机科学中，柯里化（英語：Currying），又译为卡瑞化或加里化，是把接受多个参数的函数变换成

接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。

通俗的解释：柯里化就是一个函数原本有多个参数，只传入一个参数，生成一个新函数，由新函数接收剩下的参数来运行得到结果，这里重点是一个参数。

## 柯里化有什么作用？

- 参数复用，或者说是固定参数，避免重复传参；

- 提前返回，或者说是提前确认，避免重复判断；

- 延迟执行。

## 柯里化的应用
- 处理浏览器兼容（参数复用实现一次性判断）
- http请求的封装（参数复用）
- 防抖节流(延迟执行)
- 框架源码的使用

- 浏览器事件绑定的兼容处理 

``` js 
// 普通事件绑定函数
var addEvent = function(ele, type, fn, isCapture) {
    if(window.addEventListener) {
        ele.addEventListener(type, fn, isCapture)
    } else if(window.attachEvent) {

        ele.attachEvent("on" + type, fn)
    }
}
// 弊端：每次调用addEvent都会进行判断

// 柯里化事件绑定函数
var addEvent = (function() {
    if(window.addEventListener) {
        return function(ele, type, fn, isCapture) {
            ele.addEventListener(type, fn, isCapture)
        }
    } else if(window.attachEvent) {
        return function(ele, type, fn) {
             ele.attachEvent("on" + type, fn)
        }
    }
})()
// 优势：判断只执行一次，通过闭包保留了父级作用域的判断结果

```